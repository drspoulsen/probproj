<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
<script>// Make *any* pre with class 'sagecell-sage' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({inputLocation: 'pre.sagecell-sage',
                       linked: true,
                       languages: ['sage'],
                       evalButtonText: 'Evaluate (Sage)'});
</script>
</head>
<body class="ignore-math">
<article class="example example-like"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.1.2</span><span class="period">.</span><span class="space"> </span><span class="title">Probability of Rolling a Five in Four Rolls.</span>
</h4>
<p>What is the probability of rolling a five in four rolls of fair dice? We will modify the code from <a href="" class="xref" data-knowl="./knowl/example_sim_rolling_a_five.html" title="Example 2.1.1: Probability of Rolling a Five">ExampleÂ 2.1.1</a> to arrive at an approximation of the answer, all while following the simulation process.</p>
<p>Before we write code, let's think about what we ary trying to do. We want to define "success" (return 1) to be that we roll a five in four rolls of fair dice. While "failure" (return 0) is that we do not roll a five in four  rolls of fair dice.</p>
<p>The following code rolls four fair "computer dice." This is step one of the simulation process.</p>
<pre class="ptx-sagecell sagecell-sage" id="sage-7"><script type="text/x-sage">def roll_d6():
     return randrange(6)+1
rolls=[roll_d6() for i in range(4)]
rolls
</script></pre>
<p>We can apply our indicator function is_five to each roll in this list. Then, the sum of the list can be either 0,1,2,3, or 4. If the sum is zero, that must mean there are no fives, which is a failure, while if the sum is positive, it means that at least one roll was a five, which is a success. We can write a function, is_positive(), to help us distinguish success from failure in this case. Run the code below to see the result of an experiment of rolling four dice, and seeing if at least one of the dice is a five. This is step two of the simulation process. Run it several times to see that sometimes the experiment "succeeds" and sometimes the experiment "fails."</p>
<pre class="ptx-sagecell sagecell-sage" id="sage-8"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def is_positive(x):
    if x>0:
      return 1
    else:
      return 0
def roll_d6():
  return randrange(6)+1
rolls=[roll_d6() for i in range(4)]
five_list=[is_five(x) for x in rolls]
is_positive(sum(five_list))
</script></pre>
<p>Now, we move to step 3 of the simulation process. The following code let's us run the experiment many times by making the process from the previous code block a function in its own right, then running that function multiple times. The probability estimate is then the number of successes divided by the number of experiments run.</p>
<pre class="ptx-sagecell sagecell-sage" id="sage-9"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def is_positive(x):
    if x>0:
      return 1
    else:
      return 0
def roll_d6():
  return randrange(6)+1
def perform_experiment():
  rolls=[roll_d6() for i in range(4)]
  five_list=[is_five(x) for x in rolls]
  return is_positive(sum(five_list))
success_list=[perform_experiment() for i in range(100)]
total_successes=sum(success_list)
estimated_probability=total_successes/100
estimated_probability
</script></pre></article><span class="incontext"><a href="sec_2_2_simulation.html#example_sim_rolling_a_five_four_rolls" class="internal">in-context</a></span>
</body>
</html>
