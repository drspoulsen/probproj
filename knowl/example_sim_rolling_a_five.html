<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
<script>// Make *any* pre with class 'sagecell-sage' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({inputLocation: 'pre.sagecell-sage',
                       linked: true,
                       languages: ['sage'],
                       evalButtonText: 'Evaluate (Sage)'});
</script>
</head>
<body class="ignore-math">
<article class="example example-like"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.3.1</span><span class="period">.</span><span class="space"> </span><span class="title">Probability of Rolling a Five.</span>
</h4>
<p>What is the probability of rolling a five on a six-sided dice? We know that the answer is 1/6, but can we get the computer to arrive at this result? To do this, we will roll a lot of virtual dice! Note, Sage counts from 0, so our "computer dice" has numbers 0,1,2,3,4,5 instead of 1,2,3,4,5,6. We will correct for this by adding one to each random number.</p>
<p>Let's begin by rolling just once dice. The following code rolls one six-sided "computer dice." It does this by defining a function called roll_d6(). This function, when called, generates a number between zero and five via the randrange(5) command, then adds one to get a number between one and six. The thrid line calls the function, effectively rolling the "computer dice."  In the online version of the text, execute the command below multiple times and see that the output can change.</p>
<pre class="ptx-sagecell sagecell-sage" id="sage-1"><script type="text/x-sage">def roll_d6():
     return randrange(6)+1
roll_d6()
</script></pre>
<p>We can take this a step further. Why roll one dice when we can roll many at once? This is step one of the simulation process. The following notation gives a list (named rolls) of 100 six-sided dice rolls.</p>
<pre class="ptx-sagecell sagecell-sage" id="sage-2"><script type="text/x-sage">def roll_d6():
     return randrange(6)+1
rolls=[roll_d6() for i in range(100)]
rolls
</script></pre>
<p>Before we move on, see if you can modify the above code to roll 50 20-sided dice.</p>
<p>So far, we have been able to roll many dice, but we still don't know the probability of rolling a five. We need a function that will tell us when we've rolled a five (success), and when we haven't (failure). This is step two of the simulation process. By assigning the value one to success and the value zero to failure, we can count the number of successes by adding up the numbers in the list! We define this function next. Test it to make sure it behaves as expected.</p>
<pre class="ptx-sagecell sagecell-sage" id="sage-3"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
</script></pre>
<p>Now, we just need to apply the is_five() function to every element in our list, and add up the list to tell us the total number of successes. This is step three of the simulation process.</p>
<pre class="ptx-sagecell sagecell-sage" id="sage-4"><script type="text/x-sage">num_rolls=100
def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def roll_d6():
     return randrange(6)+1
rolls=[roll_d6() for i in range(num_rolls)]
success_list=[is_five(roll) for roll in rolls]
total_successes=sum(success_list)
estimated_probability=total_successes/num_rolls
estimated_probability
</script></pre>
<p>Awesome! We now have a way to estimate the probability of rolling a five on a six-sided dice. Notice that we have a process that can be executed many times (try running the cell above many times and see that the output changes). We could create a <em class="emphasis">function</em> that executes the above process, and run that function many times (we'll do it 50 times)! This is step four of the simulation process.</p>
<pre class="ptx-sagecell sagecell-sage" id="sage-5"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def roll_d6():
  return randrange(6)+1
def estimate_probability(num_rolls):
  rolls=[roll_d6() for i in range(num_rolls)]
  success_list=[is_five(roll) for roll in rolls]
  total_successes=sum(success_list)
  estimated_probability=total_successes/num_rolls
  return estimated_probability
estimate_list=[estimate_probability(100) for i in range(50)]
estimate_list
</script></pre> Finally, rather than looking at all the estimates as a list of numbers, we can visualize the list of estimates with a histogram. <pre class="ptx-sagecell sagecell-sage" id="sage-6"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def roll_d6():
  return randrange(6)+1
def estimate_probability(num_rolls):
  rolls=[roll_d6() for i in range(num_rolls)]
  success_list=[is_five(roll) for roll in rolls]
  total_successes=sum(success_list)
  estimated_probability=total_successes/num_rolls
  return estimated_probability
estimate_list=[estimate_probability(100) for i in range(50)]
histogram(estimate_list)
</script></pre></article><span class="incontext"><a href="sec_2_3_simulation.html#example_sim_rolling_a_five" class="internal">in-context</a></span>
</body>
</html>
