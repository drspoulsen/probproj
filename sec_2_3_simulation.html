<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US" dir="ltr">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Simulation</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="The Probability Project">
<meta property="book:author" content="Dylan Poulsen, Ph.D. (Editor and Director)">
<meta property="book:author" content="Connor Garrison">
<meta property="book:author" content="Parker Hayden">
<script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script><script>
var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  "tex": {
    "inlineMath": [
      [
        "\\(",
        "\\)"
      ]
    ],
    "tags": "none",
    "tagSide": "right",
    "tagIndent": ".8em",
    "packages": {
      "[+]": [
        "base",
        "extpfeil",
        "ams",
        "amscd",
        "color",
        "newcommand",
        "knowl"
      ]
    }
  },
  "options": {
    "ignoreHtmlClass": "tex2jax_ignore|ignore-math",
    "processHtmlClass": "process-math",
    "renderActions": {
      "findScript": [
        10,
        function (doc) {
            document.querySelectorAll('script[type^="math/tex"]').forEach(function(node) {
                var display = !!node.type.match(/; *mode=display/);
                var math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                var text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = {node: text, delim: '', n: 0};
                math.end = {node: text, delim: '', n: 0};
                doc.math.push(math);
            });
        },
        ""
      ]
    }
  },
  "chtml": {
    "scale": 0.98,
    "mtextInheritFont": true
  },
  "loader": {
    "load": [
      "input/asciimath",
      "[tex]/extpfeil",
      "[tex]/amscd",
      "[tex]/color",
      "[tex]/newcommand",
      "[pretext]/mathjaxknowl3.js"
    ],
    "paths": {
      "pretext": "https://pretextbook.org/js/lib"
    }
  },
  "startup": {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  }
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script>// Make *any* pre with class 'sagecell-sage' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({
  "inputLocation": "pre.sagecell-sage",
  "linked": true,
  "linkKey": "linked-sage",
  "autoeval": false,
  "languages": [
    "sage"
  ],
  "evalButtonText": "Evaluate (Sage)"
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="https://pretextbook.org/js/0.32/pretext_search.js"></script><link href="https://pretextbook.org/css/0.82/pretext_search.css" rel="stylesheet" type="text/css">
<script>js_version = 0.32</script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.32/pretext.js"></script><script>miniversion=0.1</script><script src="https://pretextbook.org/js/0.32/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/0.32/user_preferences.js"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&amp;family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;family=Tinos:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/dejavu-serif" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:opsz,wdth,wght@8..144,50..150,100..900&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wdth,wght@75..100,300..800&amp;display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
<link href="https://pretextbook.org/css/0.82/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/shell_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/navbar_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/style_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/colors_blue_red.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.82/setcolors.css" rel="stylesheet" type="text/css">
</head>
<body class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead" class="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" class="logo-link" target="_blank" href=""></a><div class="title-container">
<h1 class="heading"><a href="probproj.html"><span class="title">The Probability Project:</span> <span class="subtitle">A textbook by students, for students</span></a></h1>
<p class="byline">Dylan Poulsen, Ph.D. (Editor and Director), Connor Garrison, Parker Hayden</p>
</div>
</div></header><nav id="ptx-navbar" class="ptx-navbar navbar"><button class="toc-toggle button" title="Contents"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5d2;</span><span class="name">Contents</span></button><div class="searchbox">
<div class="searchwidget"><button id="searchbutton" class="searchbutton button" type="button" title="Search book"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe8b6;</span><span class="name">Search Book</span></button></div>
<div id="searchresultsplaceholder" class="searchresultsplaceholder" style="display: none">
<div class="search-results-controls">
<input aria-label="Search term" id="ptxsearch" class="ptxsearch" type="text" name="terms" placeholder="Search term"><button title="Close search" id="closesearchresults" class="closesearchresults"><span class="material-symbols-outlined">close</span></button>
</div>
<h2 class="search-results-heading">Search Results: </h2>
<div id="searchempty" class="searchempty"><span>No results.</span></div>
<ol id="searchresults" class="searchresults"></ol>
</div>
</div>
<span class="nav-other-controls"></span><span class="treebuttons"><a class="previous-button button" href="sec_2_2_axioms.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="up-button button" href="ch_2_probability_basics.html" title="Up"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Up</span></a><a class="next-button button" href="sec_2_4_conditional_prob_bayes_thm.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a></span></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar" class="ptx-sidebar"><nav id="ptx-toc" class="ptx-toc depth2"><ul class="structural contains-active toc-item-list">
<li class="toc-item toc-frontmatter"><div class="toc-title-box"><a href="meta_frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div></li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="ch_1_combinatorics.html" class="internal"><span class="codenumber">1</span> <span class="title">Combinatorics</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec_1_1_multiplication.html" class="internal"><span class="codenumber">1.1</span> <span class="title">Multiplication Principle</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-section"><div class="toc-title-box"><a href="sec_1_1_multiplication.html#sec_1_1_examples" class="internal"><span class="codenumber">1.1.1</span> <span class="title">Examples</span></a></div></li></ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec_1_2_permutations.html" class="internal"><span class="codenumber">1.2</span> <span class="title">Permutations</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec_1_2_permutations.html#sec_1_2_examples" class="internal"><span class="codenumber">1.2.1</span> <span class="title">Examples</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-exercises"><div class="toc-title-box"><a href="sec_1_2_permutations.html#exercises-1" class="internal"><span class="codenumber">1.2.1</span> <span class="title">Exercises</span></a></div></li></ul>
</li></ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec_1_3_combinations.html" class="internal"><span class="codenumber">1.3</span> <span class="title">Combinations</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-section"><div class="toc-title-box"><a href="sec_1_3_combinations.html#sec_1_3_examples" class="internal"><span class="codenumber">1.3.1</span> <span class="title">Examples</span></a></div></li></ul>
</li>
</ul>
</li>
<li class="toc-item toc-chapter contains-active">
<div class="toc-title-box"><a href="ch_2_probability_basics.html" class="internal"><span class="codenumber">2</span> <span class="title">Probability Basics</span></a></div>
<ul class="structural toc-item-list contains-active">
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec_2_1_bayesian_frequentist.html" class="internal"><span class="codenumber">2.1</span> <span class="title">Bayesian and Frequentist</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec_2_1_bayesian_frequentist.html#subsection-1" class="internal"><span class="codenumber">2.1.1</span> <span class="title">Bayesian</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec_2_1_bayesian_frequentist.html#subsection-2" class="internal"><span class="codenumber">2.1.2</span> <span class="title">Frequentist</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec_2_1_bayesian_frequentist.html#subsection-3" class="internal"><span class="codenumber">2.1.3</span> <span class="title">So...which one is correct? Better?</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec_2_1_bayesian_frequentist.html#section-8" class="internal"><span class="codenumber">2.1.1</span> <span class="title">Simulation</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec_2_2_axioms.html" class="internal"><span class="codenumber">2.2</span> <span class="title">Axioms of Probability</span></a></div></li>
<li class="toc-item toc-section active">
<div class="toc-title-box"><a href="sec_2_3_simulation.html" class="internal"><span class="codenumber">2.3</span> <span class="title">Simulation</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-section"><div class="toc-title-box"><a href="sec_2_3_simulation.html#sec_2_3_tutorial" class="internal"><span class="codenumber">2.3.1</span> <span class="title">Sage Tutorial</span></a></div></li></ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec_2_4_conditional_prob_bayes_thm.html" class="internal"><span class="codenumber">2.4</span> <span class="title">Conditional Probability</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec_2_4_conditional_prob_bayes_thm.html#subsection-4" class="internal"><span class="codenumber">2.4.1</span> <span class="title">Bayes Theorem</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec_2_4_conditional_prob_bayes_thm.html#subsection-5" class="internal"><span class="codenumber">2.4.2</span> <span class="title">Base Rate Fallacy</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec_2_4_conditional_prob_bayes_thm.html#subsection-6" class="internal"><span class="codenumber">2.4.3</span> <span class="title">Using Multiplication Trees</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec_2_5_independence.html" class="internal"><span class="codenumber">2.5</span> <span class="title">Independence</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="ch_3_discrete_random_variables.html" class="internal"><span class="codenumber">3</span> <span class="title">Discrete Random Variables</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec_3_1_discrete_random_variables.html" class="internal"><span class="codenumber">3.1</span> <span class="title">Discrete Random Variables</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec_3_9_projects.html" class="internal"><span class="codenumber">3.2</span> <span class="title">Projects with Discrete Random Variables</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec_3_9_projects.html#subsection-7" class="internal"><span class="codenumber">3.2.1</span> <span class="title">Shiny Hunting in Pokemon</span></a></div></li></ul>
</li>
</ul>
</li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section class="section" id="sec_2_3_simulation"><h2 class="heading hide-type">
<span class="type">Section</span><span class="space"> </span><span class="codenumber">2.3</span><span class="space"> </span><span class="title">Simulation</span>
</h2>
<section class="introduction" id="introduction-10"><div class="para" id="p-90">So far, we have been able to calculate probabilities in two ways. The first is counting the size of an event, and dividing by the size of the sample space, under the assumption that each singleton event is equally likely. The second is to argue from the axioms of theorems of probability. Sometimes, it can be difficult, if not impossible, to calculate a probability using the the aforementioned techniques. Also, for students and experts alike, mistakes in calculating a probability can easily occur. Being able to arrive at an approximation of a probability by running experiments is an essential tool for analyzing probabilities.</div> <div class="para" id="p-91">A simulation can be done without a computer. For example, if you want to know the probability seeing at least one five when you roll four six-sided dice simultaneously, you could roll four dice many times, and count the number of times you see a five on at least one dice. An estimate for the probability will be the number of times you see at least one five divided by the number of times you rolled the four dice. If the mathematical model of probability matches our collective intuition of what probability is, then we should expect that as the number of rolls of four dice gets larger and larger, the estimated probability should approach the "true" probability.</div> <div class="para" id="p-92">That said, the idea of taking a day or two to just roll dice sounds a little tedious. Instead, we will have a computer roll the dice for us, so to speak. Let’s just say getting computers to generate numbers that behave like random rolls of the dice has been studied and engineered, so we will just take advantage of that.</div> <div class="para" id="p-93">For our work, we will use Sage, which is an open-source computer algebra system. In the online version of this book, you can execute and manipulate the code live.</div></section><section class="section" id="sec_2_3_tutorial"><h3 class="heading hide-type">
<span class="type">Section</span><span class="space"> </span><span class="codenumber">2.3.1</span><span class="space"> </span><span class="title">Sage Tutorial</span>
</h3>
<div class="para logical" id="p-94">
<div class="para">A general outline of the simulation process is as follows:</div>
<ol class="decimal">
<li id="li-1"><div class="para" id="p-derived-li-1">Create a list of random numbers</div></li>
<li id="li-2"><div class="para" id="p-derived-li-2">Apply a function or functions to the list to answer whether the experiment is a success (return 1) or a failure (return 0)</div></li>
<li id="li-3"><div class="para" id="p-derived-li-3">Once you can successfully run one trial of an experiment, run the experiment many times, recording the numbers of successes and failures to calculate the estimated probability</div></li>
<li id="li-4"><div class="para" id="p-derived-li-4">To go above and beyond, estimate the probability many times to get a sense of how much each estimate varies from simulation to simulation</div></li>
</ol>
</div>
<div class="para" id="p-95">In the following examples, we will see this process in action and introduce some useful functions in Sage that can help us to simulate probabilities.</div>
<details id="example_sim_rolling_a_five" class="example example-like"><summary><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.3.1</span><span class="period">.</span><span class="space"> </span><span class="title">Probability of Rolling a Five.</span>
</h4></summary><article class="example example-like"> <div class="para" id="p-96">What is the probability of rolling a five on a six-sided dice? We know that the answer is 1/6, but can we get the computer to arrive at this result? To do this, we will roll a lot of virtual dice! Note, Sage counts from 0, so our "computer dice" has numbers 0,1,2,3,4,5 instead of 1,2,3,4,5,6. We will correct for this by adding one to each random number.</div> <div class="para" id="p-97">Let’s begin by rolling just once dice. The following code rolls one six-sided "computer dice." It does this by defining a function called roll_d6(). This function, when called, generates a number between zero and five via the randrange(5) command, then adds one to get a number between one and six. The thrid line calls the function, effectively rolling the "computer dice."  In the online version of the text, execute the command below multiple times and see that the output can change.</div> <pre id="sage-1" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">def roll_d6():
     return randrange(6)+1
roll_d6()
</script></pre> <div class="para" id="p-98">We can take this a step further. Why roll one dice when we can roll many at once? This is step one of the simulation process. The following notation gives a list (named rolls) of 100 six-sided dice rolls.</div> <pre id="sage-2" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">def roll_d6():
     return randrange(6)+1
rolls=[roll_d6() for i in range(100)]
rolls
</script></pre> <div class="para" id="p-99">Before we move on, see if you can modify the above code to roll 50 20-sided dice.</div> <div class="para" id="p-100">So far, we have been able to roll many dice, but we still don’t know the probability of rolling a five. We need a function that will tell us when we’ve rolled a five (success), and when we haven’t (failure). This is step two of the simulation process. By assigning the value one to success and the value zero to failure, we can count the number of successes by adding up the numbers in the list! We define this function next. Test it to make sure it behaves as expected.</div> <pre id="sage-3" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
</script></pre> <div class="para" id="p-101">Now, we just need to apply the is_five() function to every element in our list, and add up the list to tell us the total number of successes. This is step three of the simulation process.</div> <pre id="sage-4" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">num_rolls=100
def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def roll_d6():
     return randrange(6)+1
rolls=[roll_d6() for i in range(num_rolls)]
success_list=[is_five(roll) for roll in rolls]
total_successes=sum(success_list)
estimated_probability=total_successes/num_rolls
estimated_probability
</script></pre> <div class="para" id="p-102">Awesome! We now have a way to estimate the probability of rolling a five on a six-sided dice. Notice that we have a process that can be executed many times (try running the cell above many times and see that the output changes). We could create a <em class="emphasis">function</em> that executes the above process, and run that function many times (we’ll do it 50 times)! This is step four of the simulation process.</div> <pre id="sage-5" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def roll_d6():
  return randrange(6)+1
def estimate_probability(num_rolls):
  rolls=[roll_d6() for i in range(num_rolls)]
  success_list=[is_five(roll) for roll in rolls]
  total_successes=sum(success_list)
  estimated_probability=total_successes/num_rolls
  return estimated_probability
estimate_list=[estimate_probability(100) for i in range(50)]
estimate_list
</script></pre> Finally, rather than looking at all the estimates as a list of numbers, we can visualize the list of estimates with a histogram. <pre id="sage-6" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def roll_d6():
  return randrange(6)+1
def estimate_probability(num_rolls):
  rolls=[roll_d6() for i in range(num_rolls)]
  success_list=[is_five(roll) for roll in rolls]
  total_successes=sum(success_list)
  estimated_probability=total_successes/num_rolls
  return estimated_probability
estimate_list=[estimate_probability(100) for i in range(50)]
histogram(estimate_list)
</script></pre></article></details><details id="example_sim_rolling_a_five_four_rolls" class="example example-like"><summary><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.3.2</span><span class="period">.</span><span class="space"> </span><span class="title">Probability of Rolling a Five in Four Rolls.</span>
</h4></summary><article class="example example-like"> <div class="para" id="p-103">What is the probability of rolling a five in four rolls of fair dice? We will modify the code from <a href="" class="xref" data-knowl="./knowl/example_sim_rolling_a_five.html" title="Example 2.3.1: Probability of Rolling a Five">Example 2.3.1</a> to arrive at an approximation of the answer, all while following the simulation process.</div> <div class="para" id="p-104">Before we write code, let’s think about what we ary trying to do. We want to define "success" (return 1) to be that we roll a five in four rolls of fair dice. While "failure" (return 0) is that we do not roll a five in four  rolls of fair dice.</div> <div class="para" id="p-105">The following code rolls four fair "computer dice." This is step one of the simulation process.</div> <pre id="sage-7" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">def roll_d6():
     return randrange(6)+1
rolls=[roll_d6() for i in range(4)]
rolls
</script></pre> <div class="para" id="p-106">We can apply our indicator function is_five to each roll in this list. Then, the sum of the list can be either 0,1,2,3, or 4. If the sum is zero, that must mean there are no fives, which is a failure, while if the sum is positive, it means that at least one roll was a five, which is a success. We can write a function, is_positive(), to help us distinguish success from failure in this case. Run the code below to see the result of an experiment of rolling four dice, and seeing if at least one of the dice is a five. This is step two of the simulation process. Run it several times to see that sometimes the experiment "succeeds" and sometimes the experiment "fails."</div> <pre id="sage-8" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def is_positive(x):
    if x>0:
      return 1
    else:
      return 0
def roll_d6():
  return randrange(6)+1
rolls=[roll_d6() for i in range(4)]
five_list=[is_five(x) for x in rolls]
is_positive(sum(five_list))
</script></pre> <div class="para" id="p-107">Now, we move to step 3 of the simulation process. The following code let’s us run the experiment many times by making the process from the previous code block a function in its own right, then running that function multiple times. The probability estimate is then the number of successes divided by the number of experiments run.</div> <pre id="sage-9" class="ptx-sagecell sagecell-sage"><script type="text/x-sage">def is_five(x):
  if x==5:
    return 1
  else:
    return 0
def is_positive(x):
    if x>0:
      return 1
    else:
      return 0
def roll_d6():
  return randrange(6)+1
def perform_experiment():
  rolls=[roll_d6() for i in range(4)]
  five_list=[is_five(x) for x in rolls]
  return is_positive(sum(five_list))
success_list=[perform_experiment() for i in range(100)]
total_successes=sum(success_list)
estimated_probability=total_successes/100
estimated_probability
</script></pre></article></details></section></section></div>
<div class="ptx-content-footer">
<a class="previous-button button" href="sec_2_2_axioms.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Top</span></a><a class="next-button button" href="sec_2_4_conditional_prob_bayes_thm.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a>
</div></main>
</div>
<div id="ptx-page-footer" class="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="338 3000 8772 6866"><g style="stroke-width:.025in; stroke:black; fill:none"><polyline points="472,3590 472,9732 " style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png"></a>
</div>
</body>
</html>
