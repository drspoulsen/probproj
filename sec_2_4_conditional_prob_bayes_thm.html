<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Conditional Probability</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="The Probability Project">
<script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script><script>var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore|ignore-math",
    processHtmlClass: "process-math",
    renderActions: {
        findScript: [10, function (doc) {
            document.querySelectorAll('script[type^="math/tex"]').forEach(function(node) {
                var display = !!node.type.match(/; *mode=display/);
                var math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                var text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = {node: text, delim: '', n: 0};
                math.end = {node: text, delim: '', n: 0};
                doc.math.push(math);
            });
        }, '']
    },
  },
  chtml: {
    scale: 0.88,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
  startup: {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
},
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.13/pretext.js"></script><script>miniversion=0.674</script><script src="https://pretextbook.org/js/0.13/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/style_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/colors_blue_red.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/setcolors.css" rel="stylesheet" type="text/css">
</head>
<body class="pretext-book ignore-math has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="probproj.html"><span class="title">The Probability Project:</span> <span class="subtitle">A textbook by students, for students</span></a></h1>
<p class="byline"></p>
</div>
</div></div>
<nav id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3"><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="sec_2_3_simulation.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="ch_2_probability_basics.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="sec_2_5_independence.html" title="Next">Next</a></span></div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="sec_2_3_simulation.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="ch_2_probability_basics.html" title="Up">Up</a><a class="next-button button toolbar-item" href="sec_2_5_independence.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link">
<a href="ch_1_combinatorics.html" data-scroll="ch_1_combinatorics" class="internal"><span class="codenumber">1</span> <span class="title">Combinatorics</span></a><ul>
<li><a href="sec_1_1_multiplication.html" data-scroll="sec_1_1_multiplication" class="internal">Multiplication Principle</a></li>
<li><a href="sec_1_2_permutations.html" data-scroll="sec_1_2_permutations" class="internal">Permutations</a></li>
<li><a href="sec_1_3_combinations.html" data-scroll="sec_1_3_combinations" class="internal">Combinations</a></li>
</ul>
</li>
<li class="link">
<a href="ch_2_probability_basics.html" data-scroll="ch_2_probability_basics" class="internal"><span class="codenumber">2</span> <span class="title">Probability Basics</span></a><ul>
<li><a href="sec_2_1_bayesian_frequentist.html" data-scroll="sec_2_1_bayesian_frequentist" class="internal">Bayesian and Frequentist</a></li>
<li><a href="sec_2_2_axioms.html" data-scroll="sec_2_2_axioms" class="internal">Axioms of Probability</a></li>
<li><a href="sec_2_3_simulation.html" data-scroll="sec_2_3_simulation" class="internal">Simulation</a></li>
<li><a href="sec_2_4_conditional_prob_bayes_thm.html" data-scroll="sec_2_4_conditional_prob_bayes_thm" class="active">Conditional Probability</a></li>
<li><a href="sec_2_5_independence.html" data-scroll="sec_2_5_independence" class="internal">Independence</a></li>
</ul>
</li>
</ul></nav><div class="extras"><nav><a class="pretext-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section class="section" id="sec_2_4_conditional_prob_bayes_thm"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">2.4</span> <span class="title">Conditional Probability</span>
</h2>
<p id="p-109">We mentioned this idea earlier about updating our beliefs based on new information. This was the Bayesian perspective of thinking...but what does this actually mean? What does it look like?</p>
<article class="example example-like" id="example-15"><a href="" data-knowl="" class="id-ref example-knowl original" data-refid="hk-example-15"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.4.1</span><span class="period">.</span>
</h3></a></article><div class="hidden-content tex2jax_ignore" id="hk-example-15"><article class="example example-like"><p id="p-110">Suppose we go to the carnival and play a game. We have 3 cups, one of which has a coin under them. We are given two chances to guess. Imagine we get the first guess wrong, what's the probability we get it right on the next guess?</p>
<div class="solutions">
<a href="" data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-17" id="solution-17"><span class="type">Solution</span><span class="period">.</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-17"><div class="solution solution-like"><p id="p-111">The probability we pick correctly on our first guess is 1 in 3, about 33%. If we take away a cup, we now have a 50/50 chance of guessing correctly, so our odds increase to 50%. This is what conditional probability is all about. We are given new information (in this example we guessed incorrectly) and update our beliefs.</p></div></div>
</div></article></div>
<article class="theorem theorem-like" id="theorem-3"><h3 class="heading">
<span class="type">Theorem</span><span class="space"> </span><span class="codenumber">2.4.2</span><span class="period">.</span><span class="space"> </span><span class="title">Law of Total Probability.</span>
</h3>
<p id="p-112">If <span class="process-math">\(B_1,B_2,B_3, ...\)</span> is a partition of the sample space <span class="process-math">\(S\text{,}\)</span> then for any event <span class="process-math">\(A\)</span> we have</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
P(A)= \sum_{i=1}^{n} P(A \cap B_i) \]=
\[ \sum_{i=1}^{n} P(A|B_i)P(B_i) 
\end{equation*}
</div></article><p id="p-113"><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="external/./images/law_of_total_prob.png" class="contained"></div></p>
<section class="subsection" id="subsection-4"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">2.4.1</span> <span class="title">Bayes Theorem</span>
</h3>
<p id="p-114">So what is the Law of Total Probability useful for? It goes hand in hand with the theorem we introduced in Section 2.1, Bayes Theorem. Everytime we use this formulam, we are using the law. First, we'll provide a useful definition and then prove this theorem before diving into some examples.</p>
<article class="theorem theorem-like" id="theorem-4"><h4 class="heading">
<span class="type">Theorem</span><span class="space"> </span><span class="codenumber">2.4.3</span><span class="period">.</span>
</h4>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
P(A|B)=\frac{P(B|A)P(A)}{P(B)}
\end{equation*}
</div></article><article class="definition definition-like" id="definition-3"><h4 class="heading">
<span class="type">Definition</span><span class="space"> </span><span class="codenumber">2.4.4</span><span class="period">.</span>
</h4>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
P(A|B)=\frac{P(A \cap B)}{P(B)}
\end{equation*}
</div></article><p id="p-115">The probability of two events, <span class="process-math">\(A\)</span> and <span class="process-math">\(B\)</span> happening is <span class="process-math">\((A\cap B)\text{.}\)</span> Thus,</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
(A\cap B)=P(B|A)P(A)
\end{equation*}
</div>
<p class="continuation">But also,</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
(A\cap B)=P(A|B)P(B)
\end{equation*}
</div>
<p class="continuation">Therefore,</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
(A\cap B)=P(A|B)P(B)=(A\cap B)=P(B|A)P(A)
\end{equation*}
</div>
<p class="continuation">If we divide both sides by <span class="process-math">\(P(B)\)</span> we get</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
P(A|B)=\frac{P(B|A)P(A)}{P(B)}\text{.}
\end{equation*}
</div>
<p class="continuation">Bayes Theorem!</p>
<p id="p-116">Let's put this formula into action on the next example.</p></section><article class="example example-like" id="example-16"><a href="" data-knowl="" class="id-ref example-knowl original" data-refid="hk-example-16"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.4.5</span><span class="period">.</span>
</h3></a></article><div class="hidden-content tex2jax_ignore" id="hk-example-16"><article class="example example-like"><p id="p-117">Suppose we roll a fair twice. The first roll is a one. What is the probability we roll snake eyes on the second roll?</p>
<div class="solutions">
<a href="" data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-18" id="solution-18"><span class="type">Solution</span><span class="period">.</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-18"><div class="solution solution-like">
<p id="p-118">We are looking for the probability of rolling a one, given we already rolled a one. We will define <span class="process-math">\(F_1\)</span> as the first roll being a one and <span class="process-math">\(F_2\)</span> as the second roll is a one. <span class="process-math">\(P(F_1)=\frac{1}{6}\text{.}\)</span> Thus, <span class="process-math">\(P(F_2 | F_1) = \frac{P(F_1 | F_2)P(F_2)}{P(F_1)} =\)</span></p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\frac{(\frac{1}{6})(\frac{1}{6})}{(\frac{1}{6})}=\frac{1}{6}
\end{equation*}
</div>
<p id="p-119">Why? This is because these are independent events. The first dice roll has no effect on the second, third, fourth, etc. This is a helpful realization as we continue through conditional probability.</p>
</div></div>
</div></article></div>
<article class="example example-like" id="example-17"><a href="" data-knowl="" class="id-ref example-knowl original has-tabular" data-refid="hk-example-17"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.4.6</span><span class="period">.</span>
</h3></a></article><div class="hidden-content tex2jax_ignore" id="hk-example-17"><article class="example example-like"><p id="p-120">Consider a study of 63 college students and if they live off campus.</p>
<figure class="table table-like" id="table-2"><figcaption><span class="type">Table</span><span class="space"> </span><span class="codenumber">2.4.7<span class="period">.</span></span><span class="space"> </span>Table 1. College Housing and Year</figcaption><div class="tabular-box natural-width"><table class="tabular">
<tr>
<td class="c m b2 r2 l0 t0 lines"></td>
<td class="l m b2 r0 l0 t0 lines">1st Year</td>
<td class="l m b2 r0 l0 t0 lines">2nd Year</td>
<td class="l m b2 r0 l0 t0 lines">3rd Year</td>
<td class="l m b2 r0 l0 t0 lines">4th Year</td>
</tr>
<tr>
<td class="l m b0 r2 l0 t0 lines">No</td>
<td class="l m b0 r0 l0 t0 lines">1</td>
<td class="l m b0 r0 l0 t0 lines">5</td>
<td class="l m b0 r0 l0 t0 lines">8</td>
<td class="l m b0 r0 l0 t0 lines">13</td>
</tr>
<tr>
<td class="l m b0 r2 l0 t0 lines">Yes</td>
<td class="l m b0 r0 l0 t0 lines">15</td>
<td class="l m b0 r0 l0 t0 lines">11</td>
<td class="l m b0 r0 l0 t0 lines">7</td>
<td class="l m b0 r0 l0 t0 lines">3</td>
</tr>
</table></div></figure><div class="solutions">
<a href="" data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-19" id="solution-19"><span class="type">Solution</span><span class="period">.</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-19"><div class="solution solution-like">
<p id="p-122"><span class="process-math">\(P(3rd|Yes)=\)</span></p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\frac{P(Yes|3rd)P(3rd)}{P(Yes)}=\frac{\frac{14}{25}\frac{15}{63}}{\frac{3}{7}}=
\frac{1470}{4725}=.3111
\end{equation*}
</div>
</div></div>
</div></article></div>
<section class="subsection" id="subsection-5"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">2.4.2</span> <span class="title">Base Rate Fallacy</span>
</h3>
<p id="p-123">A common problem in conditional probability is the Base Rate Fallacy. This is where the base rate or initial probability of an event leads to misinterpretation of the probability of a specific situation of an event. We will look a common example.</p>
<article class="example example-like" id="example-18"><a href="" data-knowl="" class="id-ref example-knowl original" data-refid="hk-example-18"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.4.8</span><span class="period">.</span>
</h4></a></article><div class="hidden-content tex2jax_ignore" id="hk-example-18"><article class="example example-like"><p id="p-124">Let <span class="process-math">\(A\)</span> be a rare disease that only .1% of the population has (base rate). The test has a 3% false positive rate and 6% false negative rate. The test comes back positive. What’s the probability you have the disease?</p>
<div class="solutions">
<a href="" data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-20" id="solution-20"><span class="type">Solution</span><span class="period">.</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-20"><div class="solution solution-like">
<p id="p-125"><span class="process-math">\(P(A | P)=\frac{P(P|A)P(A)}{P(P)}\)</span></p>
<p id="p-126">We must use the Law of Total Probability to compute <span class="process-math">\(P(P)\)</span></p>
<p id="p-127">Thus, <span class="process-math">\(P(A | P)=\frac{P(P|A)P(A)}{P(P\cap B_1)+P(P \cap B_2)}=
\frac{(.094)(.001)}{(.094)(.001) + (.999)(.03)}=.003126\)</span> Therefore, <span class="process-math">\(P(A|P)\)</span> is 0.3%.</p>
</div></div>
</div></article></div></section><article class="example example-like" id="example-19"><a href="" data-knowl="" class="id-ref example-knowl original" data-refid="hk-example-19"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.4.9</span><span class="period">.</span>
</h3></a></article><div class="hidden-content tex2jax_ignore" id="hk-example-19"><article class="example example-like"><p id="p-128">Consider a class with a grading scale of A, B, and F. There are 36 students in the class. The first test, 21% received an A, 63% a B, and 16% an F. Of those, %1 of those who got an A ended up failing the class, 11% with a B failed, and 45% with an F failed.</p>
<p id="p-129">Given a student failed, what is the probability they got a B on the first test?</p>
<div class="solutions">
<a href="" data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-21" id="solution-21"><span class="type">Solution</span><span class="period">.</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-21"><div class="solution solution-like">
<p id="p-130"><span class="process-math">\(P(B|Fail)=\)</span></p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\frac{P(Fail|B)P(B)}{P(Fail)}=\frac{P(Fail|B)P(B)}{P(Fail|A)P(A)+P(Fail|B)P(B)+P(Fail|F)P(F)}=\frac{(.11)(.63)}{(.1434)}=.48326
\end{equation*}
</div>
</div></div>
</div></article></div>
<section class="subsection" id="subsection-6"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">2.4.3</span> <span class="title">Using Multiplication Trees</span>
</h3>
<p id="p-131">Another way to solve Conditional Probability is to use Multiplication Trees. Consider the next example.</p>
<article class="example example-like" id="example-20"><a href="" data-knowl="" class="id-ref example-knowl original has-image" data-refid="hk-example-20"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.4.10</span><span class="period">.</span>
</h4></a></article><div class="hidden-content tex2jax_ignore" id="hk-example-20"><article class="example example-like"><p id="p-132">Consider two boxes, each with red and blue marbles in them. Box #1 is 53% blue marbles, and Box #2 is 88% blue marbles. Suppose we flip a coin to decide which box to choose a marble from. What is the probability we pick a red marble, given the coin landed on heads? Furthermore, what's the probability of getting a red marble?</p>
<p id="p-133">Use a multiplication tree!</p>
<a href="" data-knowl="" class="id-ref solution-knowl original has-image" data-refid="hk-solution-22" id="solution-22"><span class="type">Solution</span><span class="period">.</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-22"><div class="solution solution-like"><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="external/sec_2_4_conditional_prob_bayes_thm/sec_2_4%20img%20mult%20trees.png" class="contained"></div></div></div></article></div></section></section></div></main>
</div>
</body>
</html>
